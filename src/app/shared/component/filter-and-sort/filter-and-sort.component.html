<ng-container *ngIf="data">
  <ng-container *ngIf="data.type === TYPE_SORT_FILTER.FILTER_TYPE">
    <div class="col-12">
      <div class="row d-flex justify-content-center category">
        <ng-container *ngFor="let category of data.categories">
          <div class="btn-container col">
            <button
              type="button"
              class="btn btn-filter-type btn--animation-hover-in text-uppercase"
              [ngClass]="{ active: category.active }"
              (click)="filterCategory(category.id)"
            >
              {{ category.name }}
            </button>
          </div>
        </ng-container>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="data.type === TYPE_SORT_FILTER.SORT && data.sorts">
    <div class="d-flex justify-content-end align-items-center">
      <h3 class="text-uppercase sort-text">{{ data.title }}</h3>
      <mat-select
        class="sort-option text-capitalize"
        [formControl]="sortFormControl"
        (selectionChange)="sortData(sortFormControl.value)"
      >
        <mat-option
          class="text-capitalize"
          *ngFor="let sort of data.sorts"
          [value]="sort.id"
        >
          {{ sort.name }}
        </mat-option>
      </mat-select>
    </div>
  </ng-container>

  <ng-container *ngIf="data.type === TYPE_SORT_FILTER.FILTER_BRAND">
    <div class="filter">
      <ng-container
        [ngTemplateOutlet]="checkBox"
        [ngTemplateOutletContext]="{ filter: data }"
      ></ng-container>
    </div>
  </ng-container>

  <ng-container *ngIf="data.type === TYPE_SORT_FILTER.FILTER_TYPE">
    <div class="filter" *ngFor="let item of data.options">
      <ng-container
        [ngTemplateOutlet]="checkBox"
        [ngTemplateOutletContext]="{ filter: item }"
      ></ng-container>
    </div>
  </ng-container>

  <ng-container *ngIf="data.type === TYPE_SORT_FILTER.FILTER_FEATURE">
    <div class="filter" *ngFor="let item of data.options">
      <ng-container
        [ngTemplateOutlet]="checkBox"
        [ngTemplateOutletContext]="{ filter: item }"
      ></ng-container>
    </div>
  </ng-container>

  <ng-container *ngIf="data.type === FILTER_TYPE.RANGE_INPUT">
    <div class="filter">
      <ng-container
        [ngTemplateOutlet]="rangeInput"
        [ngTemplateOutletContext]="{ filter: data }"
      ></ng-container>
    </div>
  </ng-container>
</ng-container>

<ng-template #checkBox let-filter="filter">
  <h4 class="filter-header-text">{{ filter.title }}</h4>
  <ul
    class="filter-option"
    [ngClass]="
      filter.options && filter.options.length > 8 ? 'overflow-y-auto' : ''
    "
  >
    <li *ngFor="let option of filter.options">
      <mat-checkbox
        [(ngModel)]="option.active"
        (ngModelChange)="filterCheckBox()"
        class="text-capitalize"
        >{{ option.name }}</mat-checkbox
      >
    </li>
  </ul>
</ng-template>
<ng-template #rangeInput let-filter="filter">
  <h4 class="filter-header-text">{{ filter.title }}</h4>
  <p class="filter-header-text-hint mb-4">
    {{ filter.description }}
  </p>
  <table class="d-flex justify-content-center" cellspacing="0">
    <tr>
      <td>
        <mat-form-field class="">
          <input matInput type="number" />
        </mat-form-field>
      </td>
      <td><span class="mx-4">-</span></td>
      <td>
        <mat-form-field class="">
          <input matInput type="number" />
        </mat-form-field>
      </td>
    </tr>
  </table>
</ng-template>
